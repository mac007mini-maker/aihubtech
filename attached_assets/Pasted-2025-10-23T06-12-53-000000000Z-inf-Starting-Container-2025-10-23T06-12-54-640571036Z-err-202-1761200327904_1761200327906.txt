2025-10-23T06:12:53.000000000Z [inf]  Starting Container
2025-10-23T06:12:54.640571036Z [err]  [2025-10-23 06:12:53 +0000] [2] [INFO] Booting worker with pid: 2
2025-10-23T06:12:54.640576703Z [err]  [2025-10-23 06:12:54 +0000] [3] [INFO] Booting worker with pid: 3
2025-10-23T06:12:54.640602994Z [err]  [2025-10-23 06:12:53 +0000] [1] [INFO] Starting gunicorn 21.2.0
2025-10-23T06:12:54.640608945Z [err]  [2025-10-23 06:12:53 +0000] [1] [INFO] Listening at: http://0.0.0.0:8080 (1)
2025-10-23T06:12:54.640613479Z [err]  [2025-10-23 06:12:53 +0000] [1] [INFO] Using worker: sync
2025-10-23T06:12:54.644371257Z [inf]  ✅ PiAPI provider enabled (FALLBACK #1 - 99.9% uptime SLA)
2025-10-23T06:12:54.644382990Z [inf]  ✅ Replicate provider enabled (FALLBACK #2 - legacy models)
2025-10-23T06:12:54.644391228Z [inf]  🔌 Face Swap Gateway initialized with 3 provider(s)
2025-10-23T06:12:54.644397972Z [inf]  📊 Provider priority: Nano-Banana → PiAPI → Replicate
2025-10-23T06:12:54.644406291Z [inf]  ✅ Nano-Banana provider enabled (PRIMARY - Gemini 2.5 Flash)
2025-10-23T06:12:54.645658770Z [inf]  📊 Using Replicate Real-ESRGAN (direct, no Huggingface bottleneck)
2025-10-23T06:12:54.645689926Z [inf]  🔌 HD Image Gateway initialized with 1 provider(s)
2025-10-23T06:12:54.646978414Z [inf]  🔌 Cartoon Gateway initialized with 2 provider(s)
2025-10-23T06:12:54.648638390Z [inf]  🔌 Memoji Gateway initialized with 2 provider(s)
2025-10-23T06:12:54.650160382Z [inf]  🔌 Animal-Toon Gateway initialized with 3 provider(s)
2025-10-23T06:12:54.650184209Z [inf]    1. Replicate PhotoMaker (timeout=30s)
2025-10-23T06:12:54.650191022Z [inf]    2. Replicate InstantID (timeout=90s)
2025-10-23T06:12:54.650197280Z [inf]    3. PiAPI Flux (timeout=20s)
2025-10-23T06:12:54.651531100Z [inf]  🔌 Muscle Enhancement Gateway initialized with 2 provider(s)
2025-10-23T06:12:54.653504215Z [inf]  🔌 Art Style Gateway initialized with 2 provider(s)
2025-10-23T06:12:54.657427050Z [inf]  🔌 Video Swap Gateway initialized with 2 provider(s)
2025-10-23T06:12:54.657433108Z [inf]  📊 Video Swap Provider priority: VModel Pro → Replicate Roop
2025-10-23T06:12:55.184758518Z [inf]  ✅ Nano-Banana provider enabled (PRIMARY - Gemini 2.5 Flash)
2025-10-23T06:12:55.184765505Z [inf]  ✅ PiAPI provider enabled (FALLBACK #1 - 99.9% uptime SLA)
2025-10-23T06:12:55.184771950Z [inf]  ✅ Replicate provider enabled (FALLBACK #2 - legacy models)
2025-10-23T06:12:55.184778385Z [inf]  🔌 Face Swap Gateway initialized with 3 provider(s)
2025-10-23T06:12:55.184784412Z [inf]  📊 Provider priority: Nano-Banana → PiAPI → Replicate
2025-10-23T06:12:55.184793506Z [inf]  🔌 HD Image Gateway initialized with 1 provider(s)
2025-10-23T06:12:55.184799522Z [inf]  📊 Using Replicate Real-ESRGAN (direct, no Huggingface bottleneck)
2025-10-23T06:12:55.184805135Z [inf]  🔌 Cartoon Gateway initialized with 2 provider(s)
2025-10-23T06:12:55.184810979Z [inf]  🔌 Memoji Gateway initialized with 2 provider(s)
2025-10-23T06:12:55.184817579Z [inf]  🔌 Animal-Toon Gateway initialized with 3 provider(s)
2025-10-23T06:12:55.184824355Z [inf]    1. Replicate PhotoMaker (timeout=30s)
2025-10-23T06:12:55.184830759Z [inf]    2. Replicate InstantID (timeout=90s)
2025-10-23T06:12:55.184837851Z [inf]    3. PiAPI Flux (timeout=20s)
2025-10-23T06:12:55.184844288Z [inf]  🔌 Muscle Enhancement Gateway initialized with 2 provider(s)
2025-10-23T06:12:55.184851755Z [inf]  🔌 Art Style Gateway initialized with 2 provider(s)
2025-10-23T06:12:55.184858910Z [inf]  🔌 Video Swap Gateway initialized with 2 provider(s)
2025-10-23T06:12:55.184869642Z [inf]  📊 Video Swap Provider priority: VModel Pro → Replicate Roop
2025-10-23T06:14:34.948030128Z [inf]  📥 [PHOTO_TEMPLATES_STORY] Fetching from Supabase...
2025-10-23T06:14:34.948037324Z [inf]  ✅ [PHOTO_TEMPLATES_STORY] Found 121 photos in 13 categories (DYNAMIC)
2025-10-23T06:16:15.039686721Z [inf]  📥 [FACE_SWAP] Received request
2025-10-23T06:16:15.039701023Z [inf]  🖼️  [FACE_SWAP] Target: data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD...
2025-10-23T06:16:15.039709153Z [inf]  👤 [FACE_SWAP] Source: data:image/jpeg;base64,/9j/4QBqRXhpZgAATU0AKgAAAAg...
2025-10-23T06:16:15.039716997Z [inf]  🚀 [FACE_SWAP] Calling gateway...
2025-10-23T06:16:15.039725539Z [inf]  🔄 Trying provider: Nano-Banana
2025-10-23T06:16:15.039732317Z [inf]  🍌 [NANO-BANANA] Starting face swap (timeout=60s)...
2025-10-23T06:16:15.039742811Z [inf]  📤 [NANO-BANANA] Target: data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/4AAQSkZJRgABAgAAAQABAAD/4gxYS...
2025-10-23T06:16:15.039749895Z [inf]  📤 [NANO-BANANA] Source: data:image/jpeg;base64,/9j/4QBqRXhpZgAATU0AKgAAAAgABAEAAAQAAAABAAAGQAEBAAQAAAABA...
2025-10-23T06:16:15.039757560Z [inf]  📝 [NANO-BANANA] Prompt: Replace ONLY the face in the first image with the exact face from the second image. Copy the facial ...
2025-10-23T06:16:18.306690472Z [inf]  🔍 [NANO-BANANA] Output type: FileOutput
2025-10-23T06:16:18.306698009Z [inf]  ✅ [NANO-BANANA] Success! URL: https://replicate.delivery/xezq/sF1aqSlR70LiJhISLqnW5vzxR4SjmjBPAEYftztIDncZ07wKA/tmpb2d2qc7y.jpeg...
2025-10-23T06:16:18.306703827Z [inf]  📤 [FACE_SWAP] Result: success=True
2025-10-23T06:16:18.306708443Z [inf]  ✅ [FACE_SWAP] Returning URL: https://replicate.delivery/xezq/sF1aqSlR70LiJhISLqnW5vzxR4SjmjBPAEYftztIDncZ07wK...
2025-10-23T06:16:19.107879544Z [inf]  🔗 [PROXY] Downloading from: https://replicate.delivery/xezq/sF1aqSlR70LiJhISLqnW5vzxR4SjmjBPAEYftztIDncZ07wK...
2025-10-23T06:16:20.167555300Z [inf]  ✅ [PROXY] Success, 97147 bytes, type: image/jpeg
2025-10-23T06:17:00.219141160Z [inf]  📥 [FACE_SWAP] Received request
2025-10-23T06:17:00.219147883Z [inf]  🖼️  [FACE_SWAP] Target: data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD...
2025-10-23T06:17:00.219154921Z [inf]  👤 [FACE_SWAP] Source: data:image/jpeg;base64,/9j/4QCxRXhpZgAATU0AKgAAAAg...
2025-10-23T06:17:00.219161462Z [inf]  🚀 [FACE_SWAP] Calling gateway...
2025-10-23T06:17:00.219167825Z [inf]  🔄 Trying provider: Nano-Banana
2025-10-23T06:17:00.219174677Z [inf]  🍌 [NANO-BANANA] Starting face swap (timeout=60s)...
2025-10-23T06:17:00.219183133Z [inf]  📤 [NANO-BANANA] Target: data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/4AAQSkZJRgABAgAAAQABAAD/4gxYS...
2025-10-23T06:17:00.219189407Z [inf]  📤 [NANO-BANANA] Source: data:image/jpeg;base64,/9j/4QCxRXhpZgAATU0AKgAAAAgABAEAAAQAAAABAAAEsAEBAAQAAAABA...
2025-10-23T06:17:00.219196939Z [inf]  📝 [NANO-BANANA] Prompt: Replace ONLY the face in the first image with the exact face from the second image. Copy the facial ...
2025-10-23T06:17:09.335690516Z [inf]  🔍 [NANO-BANANA] Output type: FileOutput
2025-10-23T06:17:09.335698936Z [inf]  ✅ [NANO-BANANA] Success! URL: https://replicate.delivery/xezq/Cjn01cXbUfQEQyWypDHXx2k1ALybeEGeD4gHvvD4dnULTvDrA/tmp34krst3n.jpeg...
2025-10-23T06:17:09.335706568Z [inf]  📤 [FACE_SWAP] Result: success=True
2025-10-23T06:17:09.335713331Z [inf]  ✅ [FACE_SWAP] Returning URL: https://replicate.delivery/xezq/Cjn01cXbUfQEQyWypDHXx2k1ALybeEGeD4gHvvD4dnULTvDr...
2025-10-23T06:17:10.171941327Z [inf]  🔗 [PROXY] Downloading from: https://replicate.delivery/xezq/Cjn01cXbUfQEQyWypDHXx2k1ALybeEGeD4gHvvD4dnULTvDr...
2025-10-23T06:17:11.316394878Z [inf]  ✅ [PROXY] Success, 92148 bytes, type: image/jpeg
2025-10-23T06:18:01.329384025Z [inf]  📥 [FACE_SWAP] Received request
2025-10-23T06:18:01.329413058Z [inf]  🖼️  [FACE_SWAP] Target: data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD...
2025-10-23T06:18:01.329419652Z [inf]  👤 [FACE_SWAP] Source: data:image/jpeg;base64,/9j/4QBqRXhpZgAATU0AKgAAAAg...
2025-10-23T06:18:01.329427870Z [inf]  🚀 [FACE_SWAP] Calling gateway...
2025-10-23T06:18:01.329432929Z [inf]  🔄 Trying provider: Nano-Banana
2025-10-23T06:18:01.329438850Z [inf]  🍌 [NANO-BANANA] Starting face swap (timeout=60s)...
2025-10-23T06:18:01.329444176Z [inf]  📤 [NANO-BANANA] Target: data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/4AAQSkZJRgABAgAAAQABAAD/4gxYS...
2025-10-23T06:18:01.329448682Z [inf]  📤 [NANO-BANANA] Source: data:image/jpeg;base64,/9j/4QBqRXhpZgAATU0AKgAAAAgABAEAAAQAAAABAAAEOAEBAAQAAAABA...
2025-10-23T06:18:01.329454274Z [inf]  📝 [NANO-BANANA] Prompt: Replace ONLY the face in the first image with the exact face from the second image. Copy the facial ...
2025-10-23T06:18:20.925404895Z [inf]  🔍 [NANO-BANANA] Output type: FileOutput
2025-10-23T06:18:20.925411790Z [inf]  ✅ [NANO-BANANA] Success! URL: https://replicate.delivery/xezq/mLiZHsgeXI2ue0yY7KVjMN8eWDTLsGldsFjfvUZk3KUNqeOsC/tmp0nyhbzpg.jpeg...
2025-10-23T06:18:20.925418373Z [inf]  📤 [FACE_SWAP] Result: success=True
2025-10-23T06:18:20.925426298Z [inf]  ✅ [FACE_SWAP] Returning URL: https://replicate.delivery/xezq/mLiZHsgeXI2ue0yY7KVjMN8eWDTLsGldsFjfvUZk3KUNqeOs...
2025-10-23T06:18:20.925432638Z [inf]  🔗 [PROXY] Downloading from: https://replicate.delivery/xezq/mLiZHsgeXI2ue0yY7KVjMN8eWDTLsGldsFjfvUZk3KUNqeOs...
2025-10-23T06:18:20.925445250Z [inf]  ✅ [PROXY] Success, 76971 bytes, type: image/jpeg