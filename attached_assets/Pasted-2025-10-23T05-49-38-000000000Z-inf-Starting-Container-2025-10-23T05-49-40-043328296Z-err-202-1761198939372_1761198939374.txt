2025-10-23T05:49:38.000000000Z [inf]  Starting Container
2025-10-23T05:49:40.043328296Z [err]  [2025-10-23 05:49:39 +0000] [1] [INFO] Starting gunicorn 21.2.0
2025-10-23T05:49:40.043335505Z [err]  [2025-10-23 05:49:39 +0000] [1] [INFO] Listening at: http://0.0.0.0:8080 (1)
2025-10-23T05:49:40.043340421Z [err]  [2025-10-23 05:49:39 +0000] [1] [INFO] Using worker: sync
2025-10-23T05:49:40.043346046Z [err]  [2025-10-23 05:49:39 +0000] [2] [INFO] Booting worker with pid: 2
2025-10-23T05:49:40.043351747Z [err]  [2025-10-23 05:49:39 +0000] [3] [INFO] Booting worker with pid: 3
2025-10-23T05:49:40.043360763Z [inf]  ✅ Nano-Banana provider enabled (PRIMARY - Gemini 2.5 Flash)
2025-10-23T05:49:40.043367320Z [inf]  ✅ PiAPI provider enabled (FALLBACK #1 - 99.9% uptime SLA)
2025-10-23T05:49:40.043372813Z [inf]  ✅ Replicate provider enabled (FALLBACK #2 - legacy models)
2025-10-23T05:49:40.043378665Z [inf]  🔌 Face Swap Gateway initialized with 3 provider(s)
2025-10-23T05:49:40.043385872Z [inf]  📊 Provider priority: Nano-Banana → PiAPI → Replicate
2025-10-23T05:49:40.043408290Z [inf]  🔌 HD Image Gateway initialized with 1 provider(s)
2025-10-23T05:49:40.043414110Z [inf]  📊 Using Replicate Real-ESRGAN (direct, no Huggingface bottleneck)
2025-10-23T05:49:40.043420380Z [inf]  🔌 Cartoon Gateway initialized with 2 provider(s)
2025-10-23T05:49:40.043425947Z [inf]  🔌 Memoji Gateway initialized with 2 provider(s)
2025-10-23T05:49:40.043435476Z [inf]  🔌 Animal-Toon Gateway initialized with 3 provider(s)
2025-10-23T05:49:40.043440103Z [inf]    1. Replicate PhotoMaker (timeout=30s)
2025-10-23T05:49:40.043446444Z [inf]    2. Replicate InstantID (timeout=90s)
2025-10-23T05:49:40.043453296Z [inf]    3. PiAPI Flux (timeout=20s)
2025-10-23T05:49:40.043459480Z [inf]  🔌 Muscle Enhancement Gateway initialized with 2 provider(s)
2025-10-23T05:49:40.043465917Z [inf]  🔌 Art Style Gateway initialized with 2 provider(s)
2025-10-23T05:49:40.043470563Z [inf]  🔌 Video Swap Gateway initialized with 2 provider(s)
2025-10-23T05:49:40.043654275Z [inf]  📊 Video Swap Provider priority: VModel Pro → Replicate Roop
2025-10-23T05:49:40.070303486Z [inf]  ✅ Nano-Banana provider enabled (PRIMARY - Gemini 2.5 Flash)
2025-10-23T05:49:40.070312858Z [inf]  ✅ PiAPI provider enabled (FALLBACK #1 - 99.9% uptime SLA)
2025-10-23T05:49:40.070320176Z [inf]  ✅ Replicate provider enabled (FALLBACK #2 - legacy models)
2025-10-23T05:49:40.070326663Z [inf]  🔌 Face Swap Gateway initialized with 3 provider(s)
2025-10-23T05:49:40.070334334Z [inf]  📊 Provider priority: Nano-Banana → PiAPI → Replicate
2025-10-23T05:49:40.070341498Z [inf]  🔌 HD Image Gateway initialized with 1 provider(s)
2025-10-23T05:49:40.070348789Z [inf]  📊 Using Replicate Real-ESRGAN (direct, no Huggingface bottleneck)
2025-10-23T05:49:40.070355638Z [inf]  🔌 Cartoon Gateway initialized with 2 provider(s)
2025-10-23T05:49:40.070362440Z [inf]  🔌 Memoji Gateway initialized with 2 provider(s)
2025-10-23T05:49:40.071867354Z [inf]  🔌 Animal-Toon Gateway initialized with 3 provider(s)
2025-10-23T05:49:40.071874357Z [inf]    1. Replicate PhotoMaker (timeout=30s)
2025-10-23T05:49:40.071880692Z [inf]    2. Replicate InstantID (timeout=90s)
2025-10-23T05:49:40.071887044Z [inf]    3. PiAPI Flux (timeout=20s)
2025-10-23T05:49:40.073800682Z [inf]  🔌 Muscle Enhancement Gateway initialized with 2 provider(s)
2025-10-23T05:49:40.073808324Z [inf]  🔌 Art Style Gateway initialized with 2 provider(s)
2025-10-23T05:49:40.081633964Z [inf]  🔌 Video Swap Gateway initialized with 2 provider(s)
2025-10-23T05:49:40.081642623Z [inf]  📊 Video Swap Provider priority: VModel Pro → Replicate Roop
2025-10-23T05:51:20.594650843Z [inf]  📥 [PHOTO_TEMPLATES_STORY] Fetching from Supabase...
2025-10-23T05:51:20.594663489Z [inf]  ✅ [PHOTO_TEMPLATES_STORY] Found 121 photos in 13 categories (DYNAMIC)
2025-10-23T05:51:40.291833227Z [inf]  📥 [PHOTO_TEMPLATES_SWAPFACE] Fetching from Supabase...
2025-10-23T05:51:40.291840247Z [inf]  ✅ [PHOTO_TEMPLATES_SWAPFACE] Found 13 photos in 3 categories (DYNAMIC)
2025-10-23T05:52:00.292383233Z [inf]  📥 [FACE_SWAP] Received request
2025-10-23T05:52:00.292396038Z [inf]  🖼️  [FACE_SWAP] Target: data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD...
2025-10-23T05:52:00.292402706Z [inf]  👤 [FACE_SWAP] Source: data:image/jpeg;base64,/9j/4QBqRXhpZgAATU0AKgAAAAg...
2025-10-23T05:52:00.292409569Z [inf]  🚀 [FACE_SWAP] Calling gateway...
2025-10-23T05:52:00.292415328Z [inf]  🔄 Trying provider: Nano-Banana
2025-10-23T05:52:00.292420866Z [inf]  🍌 [NANO-BANANA] Starting face swap (timeout=60s)...
2025-10-23T05:52:00.292425490Z [inf]  📤 [NANO-BANANA] Target: data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/4AAQSkZJRgABAgAAAQABAAD/4gxYS...
2025-10-23T05:52:00.292432569Z [inf]  📤 [NANO-BANANA] Source: data:image/jpeg;base64,/9j/4QBqRXhpZgAATU0AKgAAAAgABAEAAAQAAAABAAAGQAEBAAQAAAABA...
2025-10-23T05:52:00.292438582Z [inf]  📝 [NANO-BANANA] Prompt: Swap the face from the second image onto the person in the first image. Maintain the original pose, ...
2025-10-23T05:52:04.883679916Z [inf]  🔍 [NANO-BANANA] Output type: FileOutput
2025-10-23T05:52:04.883693480Z [inf]  ✅ [NANO-BANANA] Success! URL: https://replicate.delivery/xezq/lYovPKCMakafZCaaggnLl4seVK5uNVCBeDN1UhHe2iYQIdHWB/tmpvt30t89i.jpeg...
2025-10-23T05:52:04.883701098Z [inf]  📤 [FACE_SWAP] Result: success=True
2025-10-23T05:52:04.883709645Z [inf]  ✅ [FACE_SWAP] Returning URL: https://replicate.delivery/xezq/lYovPKCMakafZCaaggnLl4seVK5uNVCBeDN1UhHe2iYQIdHW...
2025-10-23T05:52:05.324181787Z [inf]  🔗 [PROXY] Downloading from: https://replicate.delivery/xezq/lYovPKCMakafZCaaggnLl4seVK5uNVCBeDN1UhHe2iYQIdHW...
2025-10-23T05:52:05.845565958Z [inf]  ✅ [PROXY] Success, 89299 bytes, type: image/jpeg
2025-10-23T05:52:55.572308427Z [inf]  📥 [FACE_SWAP] Received request
2025-10-23T05:52:55.572317100Z [inf]  🖼️  [FACE_SWAP] Target: data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD...
2025-10-23T05:52:55.572323681Z [inf]  👤 [FACE_SWAP] Source: data:image/jpeg;base64,/9j/4QMIRXhpZgAATU0AKgAAAAg...
2025-10-23T05:52:55.572329151Z [inf]  🚀 [FACE_SWAP] Calling gateway...
2025-10-23T05:52:55.572335898Z [inf]  🔄 Trying provider: Nano-Banana
2025-10-23T05:52:55.572342396Z [inf]  🍌 [NANO-BANANA] Starting face swap (timeout=60s)...
2025-10-23T05:52:55.572351719Z [inf]  📤 [NANO-BANANA] Target: data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/4AAQSkZJRgABAgAAAQABAAD/4gxYS...
2025-10-23T05:52:55.572357499Z [inf]  📤 [NANO-BANANA] Source: data:image/jpeg;base64,/9j/4QMIRXhpZgAATU0AKgAAAAgACAEAAAQAAAABAAAMwAEQAAIAAAAJA...
2025-10-23T05:52:55.572363915Z [inf]  📝 [NANO-BANANA] Prompt: Swap the face from the second image onto the person in the first image. Maintain the original pose, ...
2025-10-23T05:53:15.581792686Z [inf]  🔍 [NANO-BANANA] Output type: FileOutput
2025-10-23T05:53:15.581802678Z [inf]  ✅ [NANO-BANANA] Success! URL: https://replicate.delivery/xezq/RjS9ImJYIlY5BhJD9Xmzr1wtX8OrbV1LYBG7Xn5SuRehp7wKA/tmpnk9tv7mu.jpeg...
2025-10-23T05:53:15.581809466Z [inf]  📤 [FACE_SWAP] Result: success=True
2025-10-23T05:53:15.581815074Z [inf]  ✅ [FACE_SWAP] Returning URL: https://replicate.delivery/xezq/RjS9ImJYIlY5BhJD9Xmzr1wtX8OrbV1LYBG7Xn5SuRehp7wK...
2025-10-23T05:53:15.581820645Z [inf]  🔗 [PROXY] Downloading from: https://replicate.delivery/xezq/RjS9ImJYIlY5BhJD9Xmzr1wtX8OrbV1LYBG7Xn5SuRehp7wK...
2025-10-23T05:53:15.581826589Z [inf]  ✅ [PROXY] Success, 84263 bytes, type: image/jpeg
2025-10-23T05:54:05.659647583Z [inf]  🍌 [NANO-BANANA] Starting face swap (timeout=60s)...
2025-10-23T05:54:05.659661762Z [inf]  📤 [NANO-BANANA] Target: data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/4AAQSkZJRgABAgAAAQABAAD/4gxYS...
2025-10-23T05:54:05.659669974Z [inf]  📤 [NANO-BANANA] Source: data:image/jpeg;base64,/9j/4QBqRXhpZgAATU0AKgAAAAgABAEAAAQAAAABAAACHAEBAAQAAAABA...
2025-10-23T05:54:05.659678619Z [inf]  📝 [NANO-BANANA] Prompt: Swap the face from the second image onto the person in the first image. Maintain the original pose, ...
2025-10-23T05:54:05.659678892Z [inf]  📥 [FACE_SWAP] Received request
2025-10-23T05:54:05.659687985Z [inf]  🖼️  [FACE_SWAP] Target: data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD...
2025-10-23T05:54:05.659695783Z [inf]  👤 [FACE_SWAP] Source: data:image/jpeg;base64,/9j/4QBqRXhpZgAATU0AKgAAAAg...
2025-10-23T05:54:05.659705594Z [inf]  🚀 [FACE_SWAP] Calling gateway...
2025-10-23T05:54:05.659717097Z [inf]  🔄 Trying provider: Nano-Banana
2025-10-23T05:54:10.869743353Z [inf]  🔍 [NANO-BANANA] Output type: FileOutput
2025-10-23T05:54:10.869752750Z [inf]  ✅ [NANO-BANANA] Success! URL: https://replicate.delivery/xezq/9c7GXZ9MhY5VPpSh3t7A9TDU010zS8zSBhxp9jO6GdmA1dYF/tmphgjuryqf.jpeg...
2025-10-23T05:54:10.869759920Z [inf]  📤 [FACE_SWAP] Result: success=True
2025-10-23T05:54:10.869764445Z [inf]  ✅ [FACE_SWAP] Returning URL: https://replicate.delivery/xezq/9c7GXZ9MhY5VPpSh3t7A9TDU010zS8zSBhxp9jO6GdmA1dYF...
2025-10-23T05:54:11.633596247Z [inf]  🔗 [PROXY] Downloading from: https://replicate.delivery/xezq/9c7GXZ9MhY5VPpSh3t7A9TDU010zS8zSBhxp9jO6GdmA1dYF...
2025-10-23T05:54:12.020682730Z [inf]  ✅ [PROXY] Success, 97128 bytes, type: image/jpeg